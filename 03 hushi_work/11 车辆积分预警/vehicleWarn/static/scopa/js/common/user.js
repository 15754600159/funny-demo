define("scopa/common/user",[],function(){var a={get:mining.baseurl.pass+"/getUserInfo",alluser:mining.baseurl.console+"/user/allUsers",allgroup:mining.baseurl.console+"/user/allGroups"},b=function(b){var c=$.extend({title:"获取当前用户信息",success:null,error:null},b);mining.utils.isEmpty(c.success)||$ajax.ajax({url:a.get,success:function(a){var b=null;try{b=a.obj}catch(d){b=a}!mining.utils.isEmpty(c.success)&&$.isFunction(c.success)&&c.success.call(this,b)},async:!1,error:function(a){!mining.utils.isEmpty(c.error)&&$.isFunction(c.error)&&c.error.call(this,a)}})},c=function(b){var c=$.extend({title:"获取所有用户列表",success:null,error:null},b);mining.utils.isEmpty(c.success)||$ajax.ajax({url:a.alluser,async:!1,success:function(a){!mining.utils.isEmpty(c.success)&&$.isFunction(c.success)&&c.success.call(this,a.listObj)},error:function(a){mining.utils.alertMsg(a,c.title+"失败，请稍后重试！","error"),!mining.utils.isEmpty(c.error)&&$.isFunction(c.error)&&c.error.call(this,a)}})},d=function(b){var c=$.extend({title:"获取所有用户组列表",success:null,error:null},b);mining.utils.isEmpty(c.success)||$ajax.ajax({url:a.allgroup,success:function(a){!mining.utils.isEmpty(c.success)&&$.isFunction(c.success)&&c.success.call(this,a.listObj)},error:function(a){mining.utils.alertMsg(a,c.title+"失败，请稍后重试！","error"),!mining.utils.isEmpty(c.error)&&$.isFunction(c.error)&&c.error.call(this,a)}})};return{get:b,getalluser:c,getallgroup:d}});
