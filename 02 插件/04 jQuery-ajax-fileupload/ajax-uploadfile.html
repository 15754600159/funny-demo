<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title> FormData Demo </title>
    <script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

    <script type="text/javascript">
            function fsubmit() {
                var data = new FormData($('#form1')[0]); // [0] 是为了把JS对象转化为DOM对象
                $.ajax({
                    url: 'server.php',
                    type: 'POST',
                    data: data,
                    dataType: 'JSON',
                    cache: false,
                    processData: false, // 不处理数据  不设置的话默认会将数据转化为字符串
                    contentType: false // 不设置内容类型
                }).done(function (ret) {
                    if (ret['isSuccess']) {
                        var result = '';
                        result += 'name=' + ret['name'] + '<br>';
                        result += 'gender=' + ret['gender'] + '<br>';
                        result += '<img src="' + ret['photo'] + '" width="100">';
                        $('#result').html(result);
                    } else {
                        alert('提交失敗');
                    }
                });
                return false;
            }
    </script>

</head>

<body>
    <form name="form1" id="form1">
        <p>name:<input type="text" name="name"></p>
        <p>gender:<input type="radio" name="gender" value="1">male <input type="radio" name="gender" value="2">female</p>
        <p>photo:<input type="file" name="photo" id="photo"></p>
        <p><input type="button" name="b1" value="submit" onclick="fsubmit()"></p>
    </form>
    <div id="result"></div>
</body>

</html>